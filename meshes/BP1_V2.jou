# RUN WITH CUBIT 15.2

# Set units to SI.
${Units('si')}

#---------------
reset

${Lx=80}
${Ly=80}

${H=15}
${h=12}
${W=40}

create vertex    {-Lx}        0  0 #v1
create vertex     {Lx}        0  0 #v2
create vertex    {-Lx}    {-Ly}  0 #v3
create vertex     {Lx}    {-Ly}  0 #v4
create vertex        0        0  0 #v5
create vertex        0    {-Ly}  0 #v6
create vertex        0    {-W}  0 #v7


# Create Outer box
create curve vertex  1 2 #c1
create curve vertex  1 3 #c2
create curve vertex  2 4 #c3
create curve vertex  3 4 #c4
create surface curve 1 2 3 4
delete curve 1 2 3 4

# Create Fault
create curve vertex  5 6 #c5
create curve vertex  6 7 #c6
imprint tolerant surface 1 with curve 5 6 merge
delete curve 5 6

surface 2 3 size 40
mesh surface 2 3
refine curve 7 10 numsplit 3 bias 1.0 depth 1 smooth
Sideset 1 add curve 2 3      # Displacement (half V_p)
Sideset 2 add curve 8 9 11 12 # Free
Sideset 7 add curve 7        # Frictional fault
Sideset 8 add curve 10        # Frictional fault

export Abaqus "/Users/jekozdon/codes/D2_sbp/meshes/BP1_V2.inp"  overwrite


