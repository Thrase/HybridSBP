# RUN WITH CUBIT 15.2

# Set units to SI.
${Units('si')}

#---------------
reset

${Lx=10}
${Ly=15}

create surface rectangle width {2*Lx} height {Ly} zplane 
move Surface 1  location 0 {-Ly/2} 0 include_merged

create vertex  0    0  0
create vertex  0 {-Ly} 0
create vertex  2.5   -3  0
create vertex  4   -8  0
create vertex -1    0  0
create vertex -4    0  0
create vertex  0   -6  0
create vertex  0  -10  0
create vertex  0  -12  0
create vertex  2.5    0  0
create vertex  4    0  0

create curve vertex  5  6
create curve vertex  9 11
create curve vertex  7 11
create curve vertex  8 12
create curve vertex 10 13
create curve vertex  7 14
create curve vertex  8 15
create curve vertex  7  8

imprint tolerant surface 1 with curve 5 6 7 8 9 10 11 12 merge
delete curve 5 6 7 8 9 10 11 12

surface 7  size 3
mesh surface 7
surface 6  size 3
mesh surface 6
surface 8  size 3
mesh surface 8
surface 4  size 3
mesh surface 4
surface 2  size 3
mesh surface 2
surface 3  size 3
mesh surface 3
surface 5  size 3
mesh surface 5

Sideset 1 add curve 2 4                      # Displacement (half V_p)
Sideset 2 add curve 26 20 21 22 31 30 28 25  # Free
Sideset 7 add curve 15 19 18 16 14 29 27 24  # Frictional fault
# Sideset 7 add curve 19 18 15 29   # Frictional fault

export Abaqus "/Users/jekozdon/codes/D2_sbp/meshes/flower.inp"  overwrite
